"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2958],{16699:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var s=i(24246),t=i(71670);const r={sidebar_position:4,title:"Customizing Lima instance",description:"Customizing Lima",keywords:["podman desktop","containers","kubernetes","lima"],tags:["lima"]},o="Customizing the Lima instance for varying workloads",c={id:"lima/customizing",title:"Customizing Lima instance",description:"Customizing Lima",source:"@site/docs/lima/customizing.md",sourceDirName:"lima",slug:"/lima/customizing",permalink:"/docs/lima/customizing",draft:!1,unlisted:!1,editUrl:"https://github.com/containers/podman-desktop/tree/main/website/docs/lima/customizing.md",tags:[{label:"lima",permalink:"/docs/tags/lima"}],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Customizing Lima instance",description:"Customizing Lima",keywords:["podman desktop","containers","kubernetes","lima"],tags:["lima"]},sidebar:"mySidebar",previous:{title:"Lima instance for Kubernetes",permalink:"/docs/lima/creating-a-kubernetes-instance"},next:{title:"OpenShift",permalink:"/docs/openshift/"}},a={},l=[{value:"Procedure",id:"procedure",level:4},{value:"Directory",id:"directory",level:3},{value:"Containers",id:"containers",level:3},{value:"Kubernetes",id:"kubernetes",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"customizing-the-lima-instance-for-varying-workloads",children:"Customizing the Lima instance for varying workloads"}),"\n",(0,s.jsxs)(n.p,{children:["You can customize Lima instance, using YAML and ",(0,s.jsx)(n.code,{children:"yq"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"procedure",children:"Procedure"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"To create a new instance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell-session",children:"$ limactl create <instance>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"To edit an existing instance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell-session",children:"$ limactl edit <instance>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Some of the things you can edit:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Change the number of CPUs, the memory, and the disk size"}),"\n",(0,s.jsx)(n.li,{children:"Change the operating system (the Linux distribution)"}),"\n",(0,s.jsx)(n.li,{children:"Modify the cluster setup (the Kubernetes distribution)"}),"\n",(0,s.jsxs)(n.li,{children:["Run ",(0,s.jsx)(n.strong,{children:"both"})," of container workloads and Kubernetes workloads"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"directory",children:"Directory"}),"\n",(0,s.jsxs)(n.p,{children:["To find the location of the instance directory (",(0,s.jsx)(n.code,{children:"Dir"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"limactl list <instance> --format '{{.Dir}}'\n"})}),"\n",(0,s.jsx)(n.h3,{id:"containers",children:"Containers"}),"\n",(0,s.jsx)(n.p,{children:"You can install a container engine, in addition to the existing runtime."}),"\n",(0,s.jsxs)(n.p,{children:["For instance you can install ",(0,s.jsx)(n.a,{href:"https://github.com/containers/podman",children:"Podman Engine"}),",\nor you can install ",(0,s.jsx)(n.a,{href:"https://github.com/docker/docker",children:"Docker Engine"}),".\nAfter that you can port forward the socket, to the host ",(0,s.jsx)(n.code,{children:"Dir"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/var/run/docker.sock"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/run/podman/podman.sock"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export DOCKER_HOST="unix://{{.Dir}}/sock/docker.sock"\nexport CONTAINER_HOST="unix://{{.Dir}}/sock/podman.sock"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,s.jsx)(n.p,{children:"You can install Kubernetes, on top of the existing container engine."}),"\n",(0,s.jsxs)(n.p,{children:["For instance you can use ",(0,s.jsx)(n.a,{href:"https://github.com/cri-o/cri-o",children:"CRI-O"})," for Podman,\nor ",(0,s.jsx)(n.a,{href:"https://github.com/Mirantis/cri-dockerd",children:"CRI-Dockerd"})," for Docker.\nAfter that you can copy the ",(0,s.jsx)(n.code,{children:"kubeconfig.yaml"})," file, to the host ",(0,s.jsx)(n.code,{children:"Dir"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/etc/rancher/k3s/k3s.yaml"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"/etc/kubernetes/admin.conf"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export KUBECONFIG="{{.Dir}}/copied-from-guest/kubeconfig.yaml"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},71670:(e,n,i)=>{i.d(n,{Z:()=>c,a:()=>o});var s=i(27378);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);